(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/spinner.0bf993e2.gif"},36:function(e,t,a){e.exports=a(85)},42:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),i=(a(42),a(6)),l=a(7),s=a(9),m=a(8),u=a(10),f=a(87),h=a(89),v=a(88),d=a(12),p=a(11),g=a.n(p),E=a(19),b=r.a.createContext(),y=function(e,t){switch(t.type){case"SEARCH_MOVIES":return Object(E.a)({},e,{movie_list:t.payload,title:"Search Results"});case"POPULAR_MOVIES":return Object(E.a)({},e,{movie_list:t.payload,title:"Popular Movies"});default:return e}},O=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={movie_list:[],title:"Popular Movies",dispatch:function(t){return e.setState(function(e){return y(e,t)})}},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="\n      https://api.themoviedb.org/3/movie/popular?api_key=".concat("6cf1cbbffe65ad928a70249e6df64ef8","&language=en-US&page=1");g.a.get(t).then(function(t){e.setState({movie_list:t.data.results})}).catch(function(e){return console.log("Error: ",e)})}},{key:"render",value:function(){return r.a.createElement(b.Provider,{value:this.state},this.props.children)}}]),t}(n.Component),j=b.Consumer,_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(d.a)({},n,r))},e.search=function(t,a){a.preventDefault();var n="/3/search/movie?api_key=".concat("6cf1cbbffe65ad928a70249e6df64ef8","&query=").concat(e.state.movieSearch);g.a.get("".concat("https://api.themoviedb.org").concat(n,"&page=1")).then(function(a){if(0===a.data.results.length)return e.setState({movieSearch:"Movie(s) not found"}),void setTimeout(function(){return e.setState({movieSearch:""})},1500);t({type:"SEARCH_MOVIES",payload:a.data.results})}).catch(function(e){return console.log("Error: ",e)})},e.state={movieSearch:""},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(j,null,function(t){var a=t.dispatch,n=t.title;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.search.bind(e,a),className:"main-form"},r.a.createElement("div",{className:"form-group my-3 input-field"},r.a.createElement("input",{type:"text",placeholder:"Search for a movie",name:"movieSearch",onChange:e.handleChange,value:e.state.movieSearch}),r.a.createElement("button",{className:"submit-button",type:"submit"},r.a.createElement("i",{className:"fas fa-search"})))),r.a.createElement("h3",{className:"title"},n))})}}]),t}(n.Component),w=a(13),S=a.n(w),k=a(86),M=function(e){var t=e.mov,a=t.id,n=t.poster_path,o=t.title,c=t.release_date;return r.a.createElement("div",{className:"movie-card"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w185/".concat(n),alt:""}),r.a.createElement("div",{className:"movie-card-body"},r.a.createElement("h5",null,function(e,t){if(!(e.length>t))return e;for(var a=t;a>0;a--)if(" "===e.charAt(a)&&(","!==e.charAt(a-1)||"."!==e.charAt(a-1)||";"!==e.charAt(a-1)))return e.substring(0,a)+"..."}(o,20)),r.a.createElement("p",null,"(",S()(c).format("YYYY"),")"),r.a.createElement(k.a,{to:"/movies/info/".concat(a),className:"info-button"},r.a.createElement("i",{className:"fas fa-info-circle"})," More info")))},N=a(31),C=a.n(N),x=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:C.a,alt:"loading...",style:{width:"150px",margin:"50px auto",display:"block"}}))},A=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(j,null,function(e){var t=e.movie_list;return void 0===t||0===t.length?r.a.createElement(x,null):r.a.createElement("div",{className:"list-container"},t.map(function(e){return r.a.createElement(M,{key:e.id,mov:e})}))})}}]),t}(n.Component),P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement(A,null))},I=a(32),Y=a(20),R=a.n(Y);R.a.setAppElement("#root");var U=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).convertTime=function(e){var t=Math.floor(e/60),a=e%60;return a=a<10?"0"+a:a,"".concat(t,"hr ").concat(a,"min")},e.movieTrailer=function(t){var a="https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=").concat("6cf1cbbffe65ad928a70249e6df64ef8","&language=en-US");g.a.get(a).then(function(t){var a=t.data.results;for(var n in a)if(a.hasOwnProperty(n)){var r=a[n].name.toLowerCase(),o=e.state.movie_info.title.toLowerCase();if(r.includes(o)){e.setState({play_movie:a[n].key});break}}}).catch(function(e){return console.log("Play Movie Error: ",e)})},e.toggleModal=function(){e.setState(function(e){return{modal:!e.modal}})},e.state={movie_info:{},play_movie:"",modal:!1},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="https://api.themoviedb.org/3/movie/".concat(this.props.match.params.id,"?api_key=").concat("6cf1cbbffe65ad928a70249e6df64ef8","&language=en-US");g.a.get(t).then(function(t){e.setState({movie_info:t.data})}).catch(function(e){return console.log("Movie Info Error: ",e)})}},{key:"render",value:function(){var e=this,t=this.state.movie_info,a=t.id,n=t.backdrop_path,o=t.poster_path,c=t.title,i=t.release_date,l=t.runtime,s=t.overview,m=t.genres,u=[];for(var f in m)m.hasOwnProperty(f)&&u.push(m[f]);var h=u.map(function(e){return r.a.createElement("li",{key:e.id},e.name)});return void 0===this.state.movie_info||0===this.state.movie_info.length?r.a.createElement(x,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"movie-info-container",style:{backgroundImage:"linear-gradient(rgba(0,0,0,0.75), rgba(0,0,0,0.8)), url(https://image.tmdb.org/t/p/original".concat(n,")")}},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w342/".concat(o),alt:""}),r.a.createElement("div",{className:"movie-info-body"},r.a.createElement("h1",null,c),r.a.createElement("p",null,r.a.createElement("strong",null,"Duration: "),this.convertTime(l)),r.a.createElement("ul",null,r.a.createElement("strong",null,"Genres: "),h),r.a.createElement("p",{className:"p-overview"},r.a.createElement("strong",null,"Overview: "),s),r.a.createElement("p",null,r.a.createElement("strong",null,"Release date: "),S()(i).format("MMM Do, YYYY")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.movieTrailer(a),e.toggleModal()},className:"modal-open-button"},r.a.createElement("i",{className:"fas fa-play",style:{marginRight:"8px"}}),"play trailer"),r.a.createElement(R.a,{isOpen:this.state.modal,className:"modal-custom"},r.a.createElement("button",{onClick:this.toggleModal,className:"modal-close-button"},r.a.createElement("i",{className:"far fa-times-circle"})),r.a.createElement(I.a,{videoId:this.state.play_movie,opts:window.innerWidth>450?{height:"500px",width:"800px"}:{height:"240px",width:"365px"}}))))))}}]),t}(n.Component),D=function(e){var t="\n      https://api.themoviedb.org/3/movie/popular?api_key=".concat("6cf1cbbffe65ad928a70249e6df64ef8","&language=en-US&page=1");g.a.get(t).then(function(t){e({type:"POPULAR_MOVIES",payload:t.data.results})}).catch(function(e){return console.log("Header API Error: ",e)})},T=function(){return r.a.createElement(j,null,function(e){var t=e.dispatch;return r.a.createElement("header",null,r.a.createElement(k.a,{to:"/movies"},r.a.createElement("h1",{onClick:D.bind(void 0,t),className:"main-header-h1"},"Movies")))})},L=(a(83),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(O,null,r.a.createElement(f.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement(T,null),r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(v.a,{exact:!0,path:"/movies",component:P}),r.a.createElement(v.a,{path:"/movies/info/:id",component:U})))))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.02f1f094.chunk.js.map